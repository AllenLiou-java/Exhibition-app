import{y as D,_ as I,z as b,A as y,r as c,v as w,w as B,B as S,d as k,f as a,g as E,q as d,t as n,C as U,c as x,p as V,k as A}from"./index-7d67738e.js";import{U as L}from"./UserNavList-6182026e.js";const R=async i=>{try{return await D({method:"POST",url:"https://api.imgur.com/3/image",data:i,headers:{Authorization:"Client-ID 41da2d5848230ab"},mimeType:"multipart/form-data"})}catch(e){return console.log(e),e}};const u=i=>(V("data-v-9e535cf2"),i=i(),A(),i),T={class:"container my-5"},q={class:"row"},z={class:"col-12 col-md-3"},C={class:"col-12 col-md-9"},F={class:"row"},N={class:"col-12"},O={class:"row"},P={class:"col-12 p-3 border"},j=u(()=>a("h2",null,"會員資料",-1)),H={class:"col-md-4"},K={class:"border d-flex flex-column gap-4"},M={class:"d-flex justify-content-center"},$={class:"avatar-label border",for:"avatar"},Q=["src"],Y=u(()=>a("div",{class:"avatar-hover"},"點擊更改圖片",-1)),G=["disabled"],J=u(()=>a("div",{class:""},[a("div",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Laboriosam eligendi odit impedit quam, voluptas nesciunt inventore repellendus ipsam id ut officiis. Facere tempora doloremque, molestiae ratione praesentium repellat voluptas deserunt? ")],-1)),W={__name:"UserInfo",setup(i){const e=b(),v=y(e),l=c(null),p=c(null),m=c({}),_=w(()=>{var t;return((t=e.userData)==null?void 0:t.picture)===l.value}),f=t=>{const o=t.target.files[0],s=new FormData,r=new FileReader;s.append("image",o),r.addEventListener("load",()=>{l.value=r.result,p.value=s}),o&&r.readAsDataURL(o)},h=async t=>{var o;try{const s=await R(t),r=await U((o=e.userData)==null?void 0:o.localId,{picture:s.data.data.link});l.value=s.data.data.link,e.userData.picture=s.data.data.link,console.log("[upload imgur responses]",s.data.data.link),console.log("[upload fireBase user data]",r)}catch(s){console.log("[upload img responses Error]",s)}},g=()=>{var t;l.value=(t=e.userData)==null?void 0:t.picture};return B(v.userData,()=>{var t;l.value=(t=e.userData)==null?void 0:t.picture}),S(()=>{g()}),(t,o)=>{var s,r;return x(),k("div",T,[a("div",q,[a("div",z,[E(L)]),a("div",C,[a("div",F,[a("div",N,[a("div",O,[a("div",P,[j,a("div",H,[a("div",K,[a("div",M,[a("label",$,[a("img",{class:"avatar-img",src:l.value||((s=d(e).userData)==null?void 0:s.picture),alt:"avatar",width:"200",height:"200"},null,8,Q),Y]),a("input",{class:"d-none",onChange:f,type:"file",name:"avatar",id:"avatar",accept:"image/*"},null,32)]),a("button",{onClick:o[0]||(o[0]=X=>h(p.value)),class:"btn btn-dark",disabled:_.value}," 上傳 ",8,G)])])])]),J]),a("div",null,[a("p",null,n(_.value),1),a("p",null,n((r=d(e).userData)==null?void 0:r.picture),1),a("p",null,"userData "+n(d(e).userData),1),a("p",null,"userInfo "+n(m.value),1),a("p",null,"avatar "+n(l.value),1)])])])])])}}},ea=I(W,[["__scopeId","data-v-9e535cf2"]]);export{ea as default};
