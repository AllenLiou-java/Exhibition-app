import{_ as k,k as N,r as m,o as x,f as v,i as e,n as f,F as V,g as q,t as o,a as s,w as c,b as h,l as I,p as S,j as C}from"./index-afbf1698.js";const j={data(){return{cartDataInstance:N(),page:1,form:{email:"",name:"",tel:"",address:"",cardNumber:"",cardName:"",cvc:""}}},created(){this.cartDataInstance.initCartData()},methods:{onSubmit(d){d.preventDefault(),alert(JSON.stringify(this.form))},pageHandler(d){switch(d){case"add":this.page+=1;break;case"del":if(this.page===1)return;this.page-=1;break}},quantityHandler(d){const{index:t,cal:b}=d.target.dataset;if(this.cartDataInstance.cartData[t].quantity===1&&b==="del")return;const y={...this.cartDataInstance.cartData[t],tickType:{...this.cartDataInstance.cartData[t].tickType},quantity:b==="add"?this.cartDataInstance.cartData[t].quantity+1:b==="del"?this.cartDataInstance.cartData[t].quantity-1:1};this.cartDataInstance.updateCartItem(y,t)}},computed:{total(){return this.cartDataInstance.cartData.length>1?this.cartDataInstance.cartData.reduce((d,t)=>d.price*d.quantity+t.price*t.quantity):this.cartDataInstance.cartData.length===1?this.cartDataInstance.cartData[0].price*this.cartDataInstance.cartData[0].quantity:0},nextBtnDisable(){return this.page===1}}},n=d=>(S("data-v-62442c71"),d=d(),C(),d),H={class:"container"},T=I('<section class="my-5" data-v-62442c71><ul class="d-flex justify-content-between p-4 border rounded-4 bg-gray shadow-sm" data-v-62442c71><li class="border-black p-2 after-line" data-v-62442c71><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-62442c71> 1 </p><p class="text-center" data-v-62442c71>確認訂單</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-62442c71></li><li class="border-black p-2" data-v-62442c71><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-62442c71> 2 </p><p class="text-center" data-v-62442c71>填寫訂購資料</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-62442c71></li><li class="border-black p-2" data-v-62442c71><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-62442c71> 3 </p><p class="text-center" data-v-62442c71>填寫付款資料</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-62442c71></li><li class="border-black p-2" data-v-62442c71><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-62442c71> 4 </p><p class="text-center" data-v-62442c71>完成訂購</p></li></ul></section>',1),J={class:"row"},O={class:"border rounded-4 shadow-sm p-4 h-100"},U=n(()=>e("h2",{class:"mb-4 fs-4"},"購票內容",-1)),B={class:"d-flex flex-column gap-4"},F={class:"d-flex gap-4"},L=["src","alt"],M={class:"d-flex flex-column"},P={class:"fw-medium"},Y={class:"d-flex gap-3 align-items-center"},z=["data-index"],E=["data-index"],G={class:"fs-6 fw-bold"},A=n(()=>e("div",null,null,-1)),K={class:"mt-4"},Q={class:"border p-3 rounded-4 shadow-sm"},R=n(()=>e("h2",{class:"fs-4 mb-3 fw-medium"},"訂購資料",-1)),W={class:"mt-4 d-flex gap-4"},X=n(()=>e("button",{class:"btn btn-dark w-100",type:"submit"}," 下一步 ",-1)),Z={class:"border p-3 rounded-4 shadow-sm"},$=n(()=>e("h2",{class:"fs-4 mb-3 fw-medium"},"付款資料",-1)),ee={class:"mt-4 d-flex gap-4"},te=n(()=>e("button",{class:"btn btn-dark w-100",type:"submit"}," 下一步 ",-1)),ae=n(()=>e("h5",null,"Step 4 最後確認資料",-1)),le={class:"mt-4 d-flex gap-4"},se=n(()=>e("button",{type:"button",class:"btn btn-dark w-100"}," 完成訂單 ",-1)),oe={class:"col-4 flex-grow-1"},de={class:"border rounded-4 shadow-sm p-4 d-flex flex-column justify-content-between"},ne=n(()=>e("h2",{class:"fs-4 mb-3"},"訂單摘要",-1)),re={class:"d-flex flex-column gap-2 mb-4"},ce={class:"d-flex justify-content-between fs-6"},ie=n(()=>e("p",null,"小計",-1)),ue=n(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"今日節省總金額"),e("p",null,"$ 0 NTD")],-1)),me=n(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"運送"),e("p",null,"$ 0 NTD")],-1)),be=n(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"稅款"),e("p",null,"$ 0 NTD")],-1)),fe=n(()=>e("div",{class:"mb-4"},[e("label",{for:"cupon",class:"mb-2"}," 優惠碼(未開放) "),e("input",{id:"cupon",class:"w-100 border rounded-1 p-1",placeholder:"請輸入優惠碼",type:"text",disabled:"true"})],-1)),pe={class:"d-flex justify-content-between align-items-center mb-4"},_e=n(()=>e("p",{class:"fs-5 fw-medium"},"總金額",-1)),xe={class:"fs-5 fw-medium"};function ve(d,t,b,y,a,r){const i=m("b-form-input"),w=m("b-form-invalid-feedback"),D=m("b-form-valid-feedback"),u=m("b-form-group"),g=m("b-form");return x(),v("div",H,[T,e("div",J,[e("section",{class:f(`col-8 flex-grow-1 ${a.page===1?"d-block":"d-none"}`)},[e("div",O,[U,e("ul",B,[(x(!0),v(V,null,q(a.cartDataInstance.cartData,(l,p)=>(x(),v("li",{key:p},[e("div",F,[e("div",null,[e("img",{class:"img-box",src:l.coverImage,alt:l.name},null,8,L)]),e("div",M,[e("p",P,o(l.name),1),e("small",null,o(l.date),1),e("small",null,o(l.tickType.tickType),1),e("div",Y,[e("button",{onClick:t[0]||(t[0]=(..._)=>r.quantityHandler&&r.quantityHandler(..._)),"data-index":p,"data-cal":"del",type:"button",class:"btn border-0 btn-dark"}," - ",8,z),e("p",null,o(l.quantity),1),e("button",{onClick:t[1]||(t[1]=(..._)=>r.quantityHandler&&r.quantityHandler(..._)),"data-index":p,"data-cal":"add",type:"button",class:"btn border-0 btn-dark"}," + ",8,E)]),e("p",G,"NT$ "+o(l.price*l.quantity),1)]),A])]))),128))]),e("div",K,[e("button",{onClick:t[2]||(t[2]=l=>r.pageHandler("add")),class:"btn btn-dark w-100",type:"button"}," 下一步 ")])])],2),e("div",{class:f(`col-8 flex-grow-1 ${a.page===2?"d-block":"d-none"}`)},[e("div",Q,[s(g,{class:"row",onSubmit:t[8]||(t[8]=l=>r.pageHandler("add"))},{default:c(()=>[R,s(u,{id:"name",class:"col-auto col-6 mb-2",label:"收件人","label-for":"name"},{default:c(()=>[s(i,{id:"username",modelValue:a.form.name,"onUpdate:modelValue":t[3]||(t[3]=l=>a.form.name=l),type:"name",placeholder:"請輸入收件人",required:""},null,8,["modelValue"]),s(w,{state:d.validationName},{default:c(()=>[h(" 請輸入收件人 ")]),_:1},8,["state"]),s(D,{state:d.validationName},{default:c(()=>[h(" Looks Good. ")]),_:1},8,["state"])]),_:1}),s(u,{class:"col-auto col-6",id:"tel",label:"電話","label-for":"tel"},{default:c(()=>[s(i,{id:"tel",modelValue:a.form.tel,"onUpdate:modelValue":t[4]||(t[4]=l=>a.form.tel=l),type:"tel",placeholder:"請輸入電話",required:""},null,8,["modelValue"])]),_:1}),s(u,{class:"col-12 mb-2",id:"address",label:"地址","label-for":"address"},{default:c(()=>[s(i,{id:"address",modelValue:a.form.address,"onUpdate:modelValue":t[5]||(t[5]=l=>a.form.address=l),type:"text",placeholder:"請輸入地址",required:""},null,8,["modelValue"])]),_:1}),s(u,{class:"col-12",id:"email",label:"信箱","label-for":"email"},{default:c(()=>[s(i,{id:"email",modelValue:a.form.email,"onUpdate:modelValue":t[6]||(t[6]=l=>a.form.email=l),type:"email",placeholder:"請輸入信箱",required:""},null,8,["modelValue"])]),_:1}),e("div",W,[e("button",{onClick:t[7]||(t[7]=l=>r.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),X])]),_:1})])],2),e("div",{class:f(`col-8 flex-grow-1  ${a.page===3?"d-block":"d-none"}`)},[e("div",Z,[s(g,{class:"row",onSubmit:t[14]||(t[14]=l=>r.pageHandler("add"))},{default:c(()=>[$,s(u,{id:"cardName",class:"col-12 mb-2",label:"持卡人姓名","label-for":"cardName"},{default:c(()=>[s(i,{id:"card",modelValue:a.form.cardName,"onUpdate:modelValue":t[9]||(t[9]=l=>a.form.cardName=l),type:"card",placeholder:"請輸入持卡人姓名",required:""},null,8,["modelValue"])]),_:1}),s(u,{id:"cardNumber",class:"col-12 mb-2",label:"信用卡","label-for":"cardNumber"},{default:c(()=>[s(i,{id:"cardNumber",modelValue:a.form.cardNumber,"onUpdate:modelValue":t[10]||(t[10]=l=>a.form.cardNumber=l),type:"text",placeholder:"xxxx-xxxx-xxxx-xxxx",required:""},null,8,["modelValue"])]),_:1}),s(u,{id:"cardDate",class:"col-auto col-md-6",label:"有效期限","label-for":"cardDate"},{default:c(()=>[s(i,{id:"cardDate",modelValue:a.form.cardDate,"onUpdate:modelValue":t[11]||(t[11]=l=>a.form.cardDate=l),type:"text",placeholder:"MM/YY",required:""},null,8,["modelValue"])]),_:1}),s(u,{id:"cvc",class:"col-auto col-md-2",label:"CVC","label-for":"cvc"},{default:c(()=>[s(i,{id:"cvc",modelValue:a.form.cvc,"onUpdate:modelValue":t[12]||(t[12]=l=>a.form.cvc=l),type:"cvc",placeholder:"xxx",required:""},null,8,["modelValue"])]),_:1}),e("div",ee,[e("button",{onClick:t[13]||(t[13]=l=>r.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),te])]),_:1})])],2),e("div",{class:f(`col-8 flex-grow-1  ${a.page===4?"d-block":"d-none"}`)},[ae,e("p",null,"商品："+o(JSON.stringify(a.cartDataInstance.cartData)),1),e("p",null,"email:"+o(JSON.stringify(a.form.email)),1),e("p",null,"name:"+o(JSON.stringify(a.form.name)),1),e("p",null,"tel:"+o(JSON.stringify(a.form.tel)),1),e("p",null,"address:"+o(JSON.stringify(a.form.address)),1),e("p",null,"cardName:"+o(JSON.stringify(a.form.cardName)),1),e("p",null,"cardNumber:"+o(JSON.stringify(a.form.cardNumber)),1),e("p",null,"cvc:"+o(JSON.stringify(a.form.cvc)),1),e("p",null,"cardDate:"+o(JSON.stringify(a.form.cardDate)),1),e("div",le,[e("button",{onClick:t[15]||(t[15]=l=>r.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),se])],2),e("section",oe,[e("div",de,[ne,e("ul",re,[e("li",ce,[ie,e("p",null,"$ "+o(r.total)+" NTD",1)]),ue,me,be]),fe,e("div",pe,[_e,e("p",xe,"NTD $ "+o(r.total),1)])])])])])}const ge=k(j,[["render",ve],["__scopeId","data-v-62442c71"]]);export{ge as default};
