import{y as D,_ as I,z as b,A as y,r as d,v as w,w as B,B as E,d as S,f as a,g as k,q as u,t as n,C as U,c as x,p as V,k as A}from"./index-d8b670a3.js";import{U as L}from"./UserNavList-e1957b12.js";const R=async i=>{try{return await D({method:"POST",url:"https://api.imgur.com/3/image",data:i,headers:{Authorization:"Client-ID 41da2d5848230ab"},mimeType:"multipart/form-data"})}catch(e){return console.log(e),e}};const c=i=>(V("data-v-52e17ca6"),i=i(),A(),i),T={class:"container my-5"},q={class:"row"},z=c(()=>a("img",{src:"https://i.imgur.com/dNpgtlE.png",alt:"avatar"},null,-1)),C={class:"col-12 col-md-3"},F={class:"col-12 col-md-9"},N={class:"row"},O={class:"col-12"},P={class:"row"},j={class:"col-12 p-3 border"},H=c(()=>a("h2",null,"會員資料",-1)),K={class:"col-md-4"},M={class:"border d-flex flex-column gap-4"},$={class:"d-flex justify-content-center"},Q={class:"avatar-label border",for:"avatar"},Y=["src"],G=c(()=>a("div",{class:"avatar-hover"},"點擊更改圖片",-1)),J=["disabled"],W=c(()=>a("div",{class:""},[a("div",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Laboriosam eligendi odit impedit quam, voluptas nesciunt inventore repellendus ipsam id ut officiis. Facere tempora doloremque, molestiae ratione praesentium repellat voluptas deserunt? ")],-1)),X={__name:"UserInfo",setup(i){const e=b(),v=y(e),l=d(null),p=d(null),m=d({}),_=w(()=>{var t;return((t=e.userData)==null?void 0:t.picture)===l.value}),f=t=>{const o=t.target.files[0],s=new FormData,r=new FileReader;s.append("image",o),r.addEventListener("load",()=>{l.value=r.result,p.value=s}),o&&r.readAsDataURL(o)},h=async t=>{var o;try{const s=await R(t),r=await U((o=e.userData)==null?void 0:o.localId,{picture:s.data.data.link});l.value=s.data.data.link,e.userData.picture=s.data.data.link,console.log("[upload imgur responses]",s.data.data.link),console.log("[upload fireBase user data]",r)}catch(s){console.log("[upload img responses Error]",s)}},g=()=>{var t;l.value=(t=e.userData)==null?void 0:t.picture};return B(v.userData,()=>{var t;l.value=(t=e.userData)==null?void 0:t.picture}),E(()=>{g()}),(t,o)=>{var s,r;return x(),S("div",T,[a("div",q,[z,a("div",C,[k(L)]),a("div",F,[a("div",N,[a("div",O,[a("div",P,[a("div",j,[H,a("div",K,[a("div",M,[a("div",$,[a("label",Q,[a("img",{class:"avatar-img",src:l.value||((s=u(e).userData)==null?void 0:s.picture),alt:"avatar",width:"200",height:"200"},null,8,Y),G]),a("input",{class:"d-none",onChange:f,type:"file",name:"avatar",id:"avatar",accept:"image/*"},null,32)]),a("button",{onClick:o[0]||(o[0]=Z=>h(p.value)),class:"btn btn-dark",disabled:_.value}," 上傳 ",8,J)])])])]),W]),a("div",null,[a("p",null,n(_.value),1),a("p",null,n((r=u(e).userData)==null?void 0:r.picture),1),a("p",null,"userData "+n(u(e).userData),1),a("p",null,"userInfo "+n(m.value),1),a("p",null,"avatar "+n(l.value),1)])])])])])}}},ta=I(X,[["__scopeId","data-v-52e17ca6"]]);export{ta as default};
