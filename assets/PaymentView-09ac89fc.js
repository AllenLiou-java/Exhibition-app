import{_ as N,v as q,b as f,d as p,f as e,n as x,F as g,h as w,g as s,i as r,t as d,V as I,c as m,D as k,p as C,k as T}from"./index-f07718a0.js";const S={data(){return{cartDataInstance:q(),page:1,form:{email:"",name:"",tel:"",address:"",cardNumber:"",cardName:"",cvc:""}}},created(){this.cartDataInstance.initCartData()},methods:{onSubmit(c){c.preventDefault(),alert(JSON.stringify(this.form,null,2)),alert(JSON.stringify(this.cartDataInstance.cartData,null,2))},pageHandler(c){switch(c){case"add":this.page+=1;break;case"del":if(this.page===1)return;this.page-=1;break}},quantityHandler(c){const{index:t,cal:_}=c.target.dataset;if(this.cartDataInstance.cartData[t].quantity===1&&_==="del")return;const v={...this.cartDataInstance.cartData[t],tickType:{...this.cartDataInstance.cartData[t].tickType},quantity:_==="add"?this.cartDataInstance.cartData[t].quantity+1:_==="del"?this.cartDataInstance.cartData[t].quantity-1:1};this.cartDataInstance.updateCartItem(v,t)}},computed:{total(){return this.cartDataInstance.cartData.length>1?this.cartDataInstance.cartData.reduce((c,t)=>c.price*c.quantity+t.price*t.quantity):this.cartDataInstance.cartData.length===1?this.cartDataInstance.cartData[0].price*this.cartDataInstance.cartData[0].quantity:0},nextBtnDisable(){return this.page===1}}},o=c=>(C("data-v-de5bc099"),c=c(),T(),c),j={class:"container mb-5"},H=I('<section class="my-5" data-v-de5bc099><ul class="d-flex justify-content-between p-4 border rounded-4 bg-gray shadow-sm" data-v-de5bc099><li class="border-black p-2 after-line" data-v-de5bc099><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-de5bc099> 1 </p><p class="text-center" data-v-de5bc099>建立訂單</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-de5bc099></li><li class="border-black p-2" data-v-de5bc099><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-de5bc099> 2 </p><p class="text-center" data-v-de5bc099>填寫訂購資料</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-de5bc099></li><li class="border-black p-2" data-v-de5bc099><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-de5bc099> 3 </p><p class="text-center" data-v-de5bc099>填寫付款資料</p></li><li class="flex-grow-1 border-bottom border-2 h-0 mt-4" data-v-de5bc099></li><li class="border-black p-2" data-v-de5bc099><p class="border border-black p-2 fw-bold box d-flex align-items-center justify-content-center mx-auto mb-2" data-v-de5bc099> 4 </p><p class="text-center" data-v-de5bc099>完成訂購</p></li></ul></section>',1),U={class:"row"},B={class:"border rounded-4 shadow-sm p-4 h-100 d-flex flex-column"},F=o(()=>e("h2",{class:"mb-4 fs-4"},"建立訂單",-1)),J={class:"d-flex flex-column gap-4"},L={class:"d-flex gap-4"},M=["src","alt"],O={class:"d-flex flex-column"},P={class:"fw-medium"},Y={class:"d-flex gap-3 align-items-center"},z=["data-index"],E=["data-index"],G={class:"fs-6 fw-bold"},A=o(()=>e("div",null,null,-1)),K={class:"flex-grow-1 d-flex"},Q={class:"border p-3 rounded-4 shadow-sm"},R=o(()=>e("h2",{class:"fs-4 mb-3 fw-medium"},"訂購資料",-1)),W={class:"mt-4 d-flex gap-4"},X=o(()=>e("button",{class:"btn btn-dark w-100",type:"submit"}," 下一步 ",-1)),Z={class:"border p-3 rounded-4 shadow-sm"},$=o(()=>e("h2",{class:"fs-4 mb-3 fw-medium"},"付款資料",-1)),ee={class:"mt-4 d-flex gap-4"},le=o(()=>e("button",{class:"btn btn-dark w-100",type:"submit"}," 下一步 ",-1)),te={class:"border p-4 rounded-4"},ae=o(()=>e("h2",{class:"fs-4 fw-medium mb-3"},"完成訂單",-1)),se=o(()=>e("h3",{class:"pb-2 mb-4 border-bottom"},"購買明細",-1)),de={class:"d-flex flex-column gap-4 mb-4"},oe={class:"d-flex gap-4 align-items-center"},ne=["src","alt"],ce={class:"d-flex flex-column"},re={class:"fw-medium"},ue={class:"fs-6 fw-bold ms-auto"},be=o(()=>e("div",null,null,-1)),ie=o(()=>e("h3",{class:"pb-2 mb-3 border-bottom"},"訂購資訊",-1)),fe={class:"d-flex flex-column gap-1"},pe={class:"mt-4 d-flex gap-4"},me={class:"col-4 flex-grow-1"},_e={class:"border rounded-4 shadow-sm p-4 d-flex flex-column justify-content-between"},xe=o(()=>e("h2",{class:"fs-4 mb-3"},"訂單摘要",-1)),he={class:"d-flex flex-column gap-2 mb-4"},ve={class:"d-flex justify-content-between fs-6"},ye=o(()=>e("p",null,"小計",-1)),ge=o(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"今日節省總金額"),e("p",null,"$ 0 NTD")],-1)),we=o(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"運送"),e("p",null,"$ 0 NTD")],-1)),ke=o(()=>e("li",{class:"d-flex justify-content-between fs-6"},[e("p",null,"稅款"),e("p",null,"$ 0 NTD")],-1)),De=o(()=>e("div",{class:"mb-4"},[e("label",{for:"cupon",class:"mb-2"}," 優惠碼(未開放) "),e("input",{id:"cupon",class:"w-100 border rounded-1 p-1",placeholder:"請輸入優惠碼",type:"text",disabled:"true"})],-1)),Ve={class:"d-flex justify-content-between align-items-center mb-4"},Ne=o(()=>e("p",{class:"fs-5 fw-medium"},"總金額",-1)),qe={class:"fs-5 fw-medium"};function Ie(c,t,_,v,a,n){const u=f("b-form-input"),D=f("b-form-invalid-feedback"),V=f("b-form-valid-feedback"),b=f("b-form-group"),y=f("b-form");return m(),p("div",j,[H,e("div",U,[e("section",{class:x(`col-auto col-md-8 mb-4 mb-md-0  flex-grow-1 ${a.page===1?"d-block":"d-none"}`)},[e("div",B,[F,e("ul",J,[(m(!0),p(g,null,w(a.cartDataInstance.cartData,(l,i)=>(m(),p("li",{key:i},[e("div",L,[e("div",null,[e("img",{class:"img-box",src:l==null?void 0:l.image,alt:l==null?void 0:l.name},null,8,M)]),e("div",O,[e("p",P,d(l==null?void 0:l.name),1),e("small",null,d(l==null?void 0:l.date),1),e("small",null,d(l==null?void 0:l.ticketType.ticketType),1),e("div",Y,[e("button",{onClick:t[0]||(t[0]=(...h)=>n.quantityHandler&&n.quantityHandler(...h)),"data-index":i,"data-cal":"del",type:"button",class:"btn border-0 btn-dark"}," - ",8,z),e("p",null,d(l==null?void 0:l.quantity),1),e("button",{onClick:t[1]||(t[1]=(...h)=>n.quantityHandler&&n.quantityHandler(...h)),"data-index":i,"data-cal":"add",type:"button",class:"btn border-0 btn-dark"}," + ",8,E)]),e("p",G," NT$ "+d((l==null?void 0:l.price)*(l==null?void 0:l.quantity)),1)]),A])]))),128))]),e("div",K,[e("button",{onClick:t[2]||(t[2]=l=>n.pageHandler("add")),class:"btn btn-dark w-100 border mt-auto",type:"button"}," 下一步 ")])])],2),e("div",{class:x(`col-auto col-md-8 mb-4 mb-md-0  flex-grow-1 ${a.page===2?"d-block":"d-none"}`)},[e("div",Q,[s(y,{class:"row",onSubmit:t[8]||(t[8]=l=>n.pageHandler("add"))},{default:r(()=>[R,s(b,{id:"name",class:"col-auto col-6 mb-2",label:"收件人","label-for":"name"},{default:r(()=>[s(u,{id:"username",modelValue:a.form.name,"onUpdate:modelValue":t[3]||(t[3]=l=>a.form.name=l),type:"name",placeholder:"請輸入收件人",required:""},null,8,["modelValue"]),s(D,null,{default:r(()=>[k(" 請輸入收件人 ")]),_:1}),s(V,null,{default:r(()=>[k(" Looks Good. ")]),_:1})]),_:1}),s(b,{class:"col-auto col-6",id:"tel",label:"電話","label-for":"tel"},{default:r(()=>[s(u,{id:"tel",modelValue:a.form.tel,"onUpdate:modelValue":t[4]||(t[4]=l=>a.form.tel=l),type:"tel",placeholder:"請輸入電話",required:""},null,8,["modelValue"])]),_:1}),s(b,{class:"col-12 mb-2",id:"address",label:"地址","label-for":"address"},{default:r(()=>[s(u,{id:"address",modelValue:a.form.address,"onUpdate:modelValue":t[5]||(t[5]=l=>a.form.address=l),type:"text",placeholder:"請輸入地址",required:""},null,8,["modelValue"])]),_:1}),s(b,{class:"col-12",id:"email",label:"信箱","label-for":"email"},{default:r(()=>[s(u,{id:"email",modelValue:a.form.email,"onUpdate:modelValue":t[6]||(t[6]=l=>a.form.email=l),type:"email",placeholder:"請輸入信箱",required:""},null,8,["modelValue"])]),_:1}),e("div",W,[e("button",{onClick:t[7]||(t[7]=l=>n.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),X])]),_:1})])],2),e("div",{class:x(`col-auto col-md-8 mb-4 mb-md-0  flex-grow-1  ${a.page===3?"d-block":"d-none"}`)},[e("div",Z,[s(y,{class:"row",onSubmit:t[14]||(t[14]=l=>n.pageHandler("add"))},{default:r(()=>[$,s(b,{id:"cardName",class:"col-12 mb-2",label:"持卡人姓名","label-for":"cardName"},{default:r(()=>[s(u,{id:"card",modelValue:a.form.cardName,"onUpdate:modelValue":t[9]||(t[9]=l=>a.form.cardName=l),type:"card",placeholder:"請輸入持卡人姓名",required:""},null,8,["modelValue"])]),_:1}),s(b,{id:"cardNumber",class:"col-12 mb-2",label:"信用卡","label-for":"cardNumber"},{default:r(()=>[s(u,{id:"cardNumber",modelValue:a.form.cardNumber,"onUpdate:modelValue":t[10]||(t[10]=l=>a.form.cardNumber=l),type:"text",placeholder:"xxxx-xxxx-xxxx-xxxx",required:""},null,8,["modelValue"])]),_:1}),s(b,{id:"cardDate",class:"col-auto col-md-6",label:"有效期限","label-for":"cardDate"},{default:r(()=>[s(u,{id:"cardDate",modelValue:a.form.cardDate,"onUpdate:modelValue":t[11]||(t[11]=l=>a.form.cardDate=l),type:"text",placeholder:"MM/YY",required:""},null,8,["modelValue"])]),_:1}),s(b,{id:"cvc",class:"col-auto col-md-2",label:"CVC","label-for":"cvc"},{default:r(()=>[s(u,{id:"cvc",modelValue:a.form.cvc,"onUpdate:modelValue":t[12]||(t[12]=l=>a.form.cvc=l),type:"cvc",placeholder:"xxx",required:""},null,8,["modelValue"])]),_:1}),e("div",ee,[e("button",{onClick:t[13]||(t[13]=l=>n.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),le])]),_:1})])],2),e("div",{class:x(`col-auto col-md-8 flex-grow-1 order-1 order-md-0 ${a.page===4?"d-block":"d-none"}`)},[e("div",te,[ae,se,e("ul",de,[(m(!0),p(g,null,w(a.cartDataInstance.cartData,(l,i)=>(m(),p("li",{key:i},[e("div",oe,[e("div",null,[e("img",{class:"img-box-2",src:l==null?void 0:l.image,alt:l==null?void 0:l.name},null,8,ne)]),e("div",ce,[e("p",re,d(l==null?void 0:l.name),1),e("small",null,d(l==null?void 0:l.date),1),e("small",null,d(l==null?void 0:l.ticketType.ticketType),1)]),e("p",null,"數量："+d(l==null?void 0:l.quantity),1),e("p",ue," NT$ "+d((l==null?void 0:l.price)*(l==null?void 0:l.quantity)),1),be])]))),128))]),ie,e("ul",fe,[e("li",null,"收件者： "+d(a.form.name),1),e("li",null,"信箱： "+d(a.form.email),1),e("li",null,"電話： "+d(a.form.tel),1),e("li",null,"地址： "+d(a.form.address),1),e("li",null," 信用卡："+d(a.form.cardNumber.split("").map((l,i)=>i<4?l:"*").join("")),1)]),e("div",pe,[e("button",{onClick:t[15]||(t[15]=l=>n.pageHandler("del")),class:"btn btn-dark w-100",type:"button"}," 上一步 "),e("button",{type:"button",class:"btn btn-dark w-100",onClick:t[16]||(t[16]=(...l)=>n.onSubmit&&n.onSubmit(...l))}," 完成訂單 ")])])],2),e("section",me,[e("div",_e,[xe,e("ul",he,[e("li",ve,[ye,e("p",null,"$ "+d(n.total)+" NTD",1)]),ge,we,ke]),De,e("div",Ve,[Ne,e("p",qe,"NTD $ "+d(n.total),1)])])])])])}const Te=N(S,[["render",Ie],["__scopeId","data-v-de5bc099"]]);export{Te as default};
